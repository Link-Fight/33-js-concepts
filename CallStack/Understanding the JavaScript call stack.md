## Understanding the JavaScript call stack

JavaScript引擎（基于其运行环境，例如：浏览器）是一个单线程解释器，由一个堆和一个调用堆栈组成。而浏览器提供Web API，如DOM、AJAX和定时器。

对调用堆栈的理解将便于了解“函数层次结构和执行顺序”在JavaScript引擎中如何工作。

调用堆栈主要用于函数调用。因为只有一个调用堆栈，所以函数执行是一次一个，由上到下。这意味着调用栈是同步的。

调用栈的理解对于理解异步编程至关重要。

在异步JavaScript中，我们有一个回调函数，一个事件循环以及一个任务队列。在回调函数被事件循环推入堆栈之后，调用堆栈在执行期间对回调函数进行操作。

在最基础的层次来看，调用堆栈是一种数据结构，采用后进先出的(LIFO)的临时存储以及执行方式。

LIFO: 这意味着最后推进去的函数将会是第一个推出来，当函数返回时候。

Temporarily store(临时存储)：当函数调用时，这函数，参数以及变量将被推入调用栈中形成一个堆栈帧。这堆栈帧是堆栈中的内存位置。当函数从堆栈中被弹出时，这内存位置将被清除。

![store](https://cdn-images-1.medium.com/max/1600/1*PPkrowy4n_Pyehb_NdhLrg.png)

Manage function invocation (管理函数调用): 调用堆栈维护每一个堆栈帧的位置。它知道下一个要执行的函数(和执行后删除它)。这就是使得JavaScript同步执行代码的原因。

## 堆栈溢出的原因是什么？

堆栈溢出发生于递归函数其没有结束点，其在不断地调用自己。而浏览器(运行环境)是有最大堆栈调用次数限制。

对于调用堆栈的主要特点是：
1. 它是单线程的。意味者同一时间仅能做一件事。
2. 代码执行是同步的
3. 每次函数执行将建创建一个占用内存的堆栈帧
4. 采用后进先出的数据结构